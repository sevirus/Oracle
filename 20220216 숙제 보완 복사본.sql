
CREATE TABLE ANIMAL(
    ANID         CHAR(5)         NOT NULL   PRIMARY KEY,
    ANIMALNAME   VARCHAR2(40)    NOT NULL,
    AGE          INT,
    REGION       VARCHAR(10) -- 지역
);

SELECT * FROM ANIMAL;

--COMMIT;

INSERT INTO ANIMAL (ANID, ANIMALNAME, AGE, REGION)
VALUES ('ANI01', '냥아치', 1, '우리집');
INSERT INTO ANIMAL (ANID, ANIMALNAME, AGE, REGION)
VALUES ('ANI02', '강아지', 3, '니네집');
INSERT INTO ANIMAL (ANID, ANIMALNAME, AGE, REGION)
VALUES ('ANI03', '호랑이', 3, '옆집');
INSERT INTO ANIMAL (ANID, ANIMALNAME, AGE, REGION)
VALUES ('ANI04', '사자', 3, '집앞');
INSERT INTO ANIMAL (ANID, ANIMALNAME, AGE, REGION)
VALUES ('ANI05', '킹콩', 120, '뒷집');
INSERT INTO ANIMAL (ANID, ANIMALNAME, AGE, REGION)
VALUES ('ANI06', '고양이', 2, '우리집');

CREATE TABLE FOOD(
    FOODID         CHAR(4)         NOT NULL     PRIMARY KEY,
    FOODNAME       VARCHAR2(40)    NOT NULL,
    WRAPCHECK      CHAR(1)         NOT NULL --포장 여부
);

SELECT * FROM FOOD;

INSERT INTO FOOD (FOODID, FOODNAME, WRAPCHECK)
VALUES ('FD01', '고등어', 'O');
INSERT INTO FOOD (FOODID, FOODNAME, WRAPCHECK)
VALUES ('FD02', '개껌', 'O');
INSERT INTO FOOD (FOODID, FOODNAME, WRAPCHECK)
VALUES ('FD03', '돼지고기', 'X');
INSERT INTO FOOD (FOODID, FOODNAME, WRAPCHECK)
VALUES ('FD04', '소고기', 'O');
INSERT INTO FOOD (FOODID, FOODNAME, WRAPCHECK)
VALUES ('FD05', '파스타', 'X');
INSERT INTO FOOD (FOODID, FOODNAME, WRAPCHECK)
VALUES ('FD06', '닭고기', 'O');


--COMMIT;

--ROLLBACK;

CREATE TABLE DOFOOD(
    IDX         INT             NOT NULL    PRIMARY KEY,
    ANID        CHAR(5)         NOT NULL,
    FOODID      CHAR(4)         NOT NULL,
    ANYDO       VARCHAR2(20)    NOT NULL -- 하는 행동
);

SELECT * FROM DOFOOD;

INSERT INTO DOFOOD (IDX, ANID, FOODID, ANYDO)
VALUES (1, 'ANI01', 'FD01', '먹는다');
INSERT INTO DOFOOD (IDX, ANID, FOODID, ANYDO)
VALUES (2, 'ANI01', 'FD03', '발로 찬다');
INSERT INTO DOFOOD (IDX, ANID, FOODID, ANYDO)
VALUES (3, 'ANI03', 'FD02', '먹는다');
INSERT INTO DOFOOD (IDX, ANID, FOODID, ANYDO)
VALUES (4, 'ANI03', 'FD04', '먹는다');
INSERT INTO DOFOOD (IDX, ANID, FOODID, ANYDO)
VALUES (5, 'ANI05', 'FD05', '흡입한다');
INSERT INTO DOFOOD (IDX, ANID, FOODID, ANYDO)
VALUES (6, 'ANI02', 'FD05', '먹는다');
INSERT INTO DOFOOD (IDX, ANID, FOODID, ANYDO)
VALUES (7, 'ANI04', 'FD06', '발로 찬다');
INSERT INTO DOFOOD (IDX, ANID, FOODID, ANYDO)
VALUES (8, 'ANI05', 'FD02', '삼킨다 ');

-- T1, T2에서 ANID가 같은 것
SELECT *
FROM ANIMAL T1, DOFOOD T2
WHERE T1.ANID = T2.ANID;


-- T1의 ANIMALNAME이 '냥아치' 이고, T2의 ANYDO가 '먹는다' 인 것의
-- ANIMALNAME 과 ANYDO
SELECT T2.IDX, T1.ANIMALNAME, T2.ANYDO
FROM ANIMAL T1, DOFOOD T2
WHERE T1.ANIMALNAME = '냥아치' AND T2.ANYDO = '먹는다';


-- T1과 T2의 FOODID 값이 같은 T1의 FOODNAME과 T2의 ANYDO
SELECT T1.FOODNAME, T2.ANYDO
FROM FOOD T1, DOFOOD T2
WHERE T1.FOODID = T2.FOODID;


-- ANIMALNAME이 '킹콩'이고, ANYDO가 '흡입한다'인 경우의 FOODID
SELECT T2.FOODNAME
FROM ANIMAL T1, FOOD T2, DOFOOD T3
WHERE T1.ANIMALNAME = '킹콩' AND T3.ANYDO = '흡입한다';

SELECT *
FROM ANIMAL T1, FOOD T2, DOFOOD T3
WHERE T1.ANID = T3.ANID OR T2.FOODID = T3.FOODID;






